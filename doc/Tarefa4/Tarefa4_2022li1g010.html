<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa4_2022li1g010</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Pedro Figueiredo Pereira &lt;a104082@alunos.uminho.pt&gt;<br />Jorge Ubaldo Rodrigues Ferreira &lt;a104096@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa4_2022li1g010</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Fun&#231;&#227;o main</a></li><li><a href="#g:2">Fun&#231;&#245;es auxiliares</a><ul><li><a href="#g:3">Fun&#231;&#227;o <code>verifica</code></a></li><li><a href="#g:4">Fun&#231;&#227;o <code>localizaterreno</code></a></li><li><a href="#g:5">Fun&#231;&#227;o <code>localizaobstaculo</code></a></li><li><a href="#g:6">Fun&#231;&#227;o <code>dentroDoMapa</code></a></li></ul></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo contem a resolu&#231;&#227;o da Tarefa 4, a qual Determina se um jogo terminou.  </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:jogoTerminou">jogoTerminou</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool</li><li class="src short"><a href="#v:verifica">verifica</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) -&gt; Bool</li><li class="src short"><a href="#v:localizaterreno">localizaterreno</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>)</li><li class="src short"><a href="#v:localizaobstaculo">localizaobstaculo</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; Int -&gt; <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a></li><li class="src short"><a href="#v:dentroDoMapa">dentroDoMapa</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#227;o main</h1></a><div class="top"><p class="src"><a id="v:jogoTerminou" class="def">jogoTerminou</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool <a href="#v:jogoTerminou" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g010.html#v:jogoTerminou" title="Tarefa4_2022li1g010">jogoTerminou</a></code> recebe um <strong>Jogo</strong> e determina se este j&#225; acabou ou se ainda est&#225; a decorrer.
Esta recorre &#224;s fun&#231;&#245;es auxiliares <code><a href="Tarefa4_2022li1g010.html#v:dentroDoMapa" title="Tarefa4_2022li1g010">dentroDoMapa</a></code> e <code><a href="Tarefa4_2022li1g010.html#v:verifica" title="Tarefa4_2022li1g010">verifica</a></code>, para desta forma determinar o valor l&#243;gico desta fun&#231;&#227;o. </p><pre>jogoTerminou :: Jogo -&gt; Bool
jogoTerminou (Jogo (Jogador (x,y)) (Mapa largura [])) = True
jogoTerminou (Jogo (Jogador (x,y)) (Mapa largura linhas)) = (dentroDoMapa (Jogo (Jogador (x,y)) (Mapa largura linhas))) || (f (localizaterreno (Jogo (Jogador (x,y)) (Mapa largura linhas))))
</pre><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogoTerminou (Jogo (Jogador (1,2)) (Mapa 3 [(Rio 1,[Tronco, Nenhum, Tronco, Tronco, Tronco]),(Rio (-1), [Nenhum, Nenhum, Tronco, Tronco, Tronco]),(Rio 1,[Tronco, Nenhum, Tronco, Nenhum, Nenhum])]))] = True
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>jogoTerminou (Jogo (Jogador (0,1)) (Mapa 3 [(Estrada 1, [Carro, Nenhum, Nenhum, Carro, Carro]),(Estrada 1, [Nenhum, Nenhum, Carro, Carro, Carro]),(Estrada 1, [Carro, Nenhum, Carro, Nenhum, Nenhum])]))] = False
</code></strong></pre><h2>Propriedades:</h2><pre>Se jogoTerminou = True , logo o jogo acaba.</pre><pre>Se jogoTerminou = False ,logo o jogo ainda decorre.</pre><pre>Basta que uma das fun&#231;&#245;es auxiliares verificarem o valor True para a verificar que o jogo acaba.</pre></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es auxiliares</h1></a><a href="#g:3" id="g:3"><h2>Fun&#231;&#227;o <code>verifica</code></h2></a><div class="top"><p class="src"><a id="v:verifica" class="def">verifica</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) -&gt; Bool <a href="#v:verifica" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g010.html#v:verifica" title="Tarefa4_2022li1g010">verifica</a></code> recebe um <strong>tuplo</strong> do tipo (Terreno, Obstaculo) e d&#225; como resultado um <strong>boolean</strong>.
Esta fun&#231;&#227;o servir&#225; para determinar o valor l&#243;gico de um determinado <strong>tuplo</strong> , obtido na fun&#231;&#227;o auxiliar <code><a href="Tarefa4_2022li1g010.html#v:localizaterreno" title="Tarefa4_2022li1g010">localizaterreno</a></code>.</p><pre>verifica :: (Terreno, Obstaculo) -&gt; Bool
verifica (Rio v, Nenhum) = True
verifica (Estrada v, Carro) = True
verifica (_, _) = False
</pre><h2>Propriedades:</h2><pre>verifica (Rio v, Nenhum) = True      Isto significa que, o jogador se encontra na &#225;gua, logo ao entrar na fun&#231;&#227;o main o jogo acabar&#225;.</pre><pre>verifica (Estrada v, Carro) = True   Isto significa que, o jogador se encontra na mesma posi&#231;&#227;o que um carro, logo ao entrar na fun&#231;&#227;o main o jogo acabar&#225;.</pre><pre>verifica (_,_) = False               Para qualquer outra situa&#231;&#227;o o jogo cont&#237;nua pois, o jogador n&#227;o foi atropelado nem se afogou (nesta fun&#231;&#227;o n&#227;o se considera o jogador estar fora do mapa).</pre></div></div><a href="#g:4" id="g:4"><h2>Fun&#231;&#227;o <code>localizaterreno</code></h2></a><div class="top"><p class="src"><a id="v:localizaterreno" class="def">localizaterreno</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>) <a href="#v:localizaterreno" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g010.html#v:localizaterreno" title="Tarefa4_2022li1g010">localizaterreno</a></code> recebe um <strong>Jogo</strong> do tipo Jogo Jogador Mapa e d&#225; como resultado um <strong>tuplo</strong>, o qual corresponde &#224; posi&#231;&#227;o do jogador no mapa (terreno,obstaculo).
De esta forma, chama-se a fun&#231;&#227;o auxiliar <code><a href="Tarefa4_2022li1g010.html#v:localizaobstaculo" title="Tarefa4_2022li1g010">localizaobstaculo</a></code> (que recebe o tuplo onde se encontra a personagem e a coordenada x da personagem).</p><pre>localizaterreno :: Jogo -&gt; (Terreno, Obstaculo)
localizaterreno (Jogo (Jogador (x,y)) (Mapa largura linhas)) = (terreno, obstaculo) 
    where 
        terreno = fst (linhas !! y) 
        linhaInteira = linhas !! y
        obstaculo = localizaobstaculo linhaInteira x 
</pre><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>localizaterreno Jogo (Jogador (1,1)) (Mapa 4 [(Rio 1, [Nenhum,Tronco,Tronco,Nenhum]),(Estrada 1, [Nenhum,Carro,Nenhum,Carro])]) = (Estrada 1, Carro)
</code></strong></pre></div></div><a href="#g:5" id="g:5"><h2>Fun&#231;&#227;o <code>localizaobstaculo</code></h2></a><div class="top"><p class="src"><a id="v:localizaobstaculo" class="def">localizaobstaculo</a> :: (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; Int -&gt; <a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a> <a href="#v:localizaobstaculo" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g010.html#v:localizaobstaculo" title="Tarefa4_2022li1g010">localizaobstaculo</a></code> recebe um <strong>Tuplo</strong> e um <strong>Inteiro</strong> da fun&#231;&#227;o anterior <code><a href="Tarefa4_2022li1g010.html#v:localizaterreno" title="Tarefa4_2022li1g010">localizaterreno</a></code> e devolve um <strong>Obstaculo</strong> .
Esta fun&#231;&#227;o servir&#225; para determinar o <strong>Obstaculo</strong> onde o jogador com coordenadas (x,y) se encontra. </p><pre>localizaobstaculo :: (Terreno, [Obstaculo]) -&gt; Int -&gt; Obstaculo
localizaobstaculo (Rio _, obs) x = obstaculo  
    where
        obstaculo = obs !! x 
localizaobstaculo (Estrada _, obs) x = obstaculo 
    where
        obstaculo = obs !! x 
localizaobstaculo (Relva, obs) x = obstaculo 
    where
        obstaculo = obs !! x 
</pre><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>localizaobstaculo (Rio a, [Nenhum,Tronco,Nenhum]) 1 = Tronco
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>localizaobstaculo (Estrada a, [Carro,Nenhum,Nenhum,Carro]) 0 = Carro
</code></strong></pre></div></div><a href="#g:6" id="g:6"><h2>Fun&#231;&#227;o <code>dentroDoMapa</code></h2></a><div class="top"><p class="src"><a id="v:dentroDoMapa" class="def">dentroDoMapa</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a> -&gt; Bool <a href="#v:dentroDoMapa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa4_2022li1g010.html#v:dentroDoMapa" title="Tarefa4_2022li1g010">dentroDoMapa</a></code> recebe um <strong>Jogo</strong> do tipo (Jogo Jogador Mapa) e d&#225; como resultado um <strong>Boolean</strong>.
Esta fun&#231;&#227;o servir&#225; para determinar o valor l&#243;gico de um determinado <strong>Jogo</strong> , o qual ir&#225; verificar que um determinado jogador tenha coordenadas pertencentes ao referencial considerado (linhas e colunas).</p><pre>dentroDoMapa :: Jogo -&gt; Bool
dentroDoMapa (Jogo (Jogador (x,y)) (Mapa largura linhas)) = (length linhas &lt; y || y &lt; 0) || ( largura &lt; x || x &lt; 0) 
</pre><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dentroDoMapa (Jogo (Jogador (0,1)) (Mapa 5 [(Estrada 1, [Carro, Nenhum, Nenhum, Carro, Carro]),(Estrada 1, [Nenhum, Nenhum, Carro, Carro, Carro]),(Estrada 1, [Carro, Nenhum, Carro, Nenhum, Nenhum])]))] = True
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>dentroDoMapa (Jogo (Jogador (0,3)) (Mapa 5 [(Estrada 1, [Carro, Nenhum, Nenhum, Carro, Carro]),(Estrada 1, [Nenhum, Nenhum, Carro, Carro, Carro]),(Estrada 1, [Carro, Nenhum, Carro, Nenhum, Nenhum])]))] = False
</code></strong></pre><h2>Propriedades:</h2><pre>(length linhas) &lt;= y   Como a tabela de entrada do jogo considera a posi&#231;&#227;o y = 0, logo o y do jogador tera sempre um valor mais acima da length das linhas, daqui o jogador ficar fora do mapa sempre que que a condi&#231;&#227;o for True.</pre><pre>(largura )      &lt;= x   Como a tabela de entrada do jogo considera a posi&#231;&#227;o x = 0, pelo mesmo racioc&#237;nio da alinia anterior, o jogador ficara fora do mapa sempre que a condi&#231;&#227;o for True.</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>